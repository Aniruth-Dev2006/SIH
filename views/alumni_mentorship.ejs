<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mentorship Hub | Alumnium</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/alumni.css">
    <script>
        (function() {
            const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
            if (savedTheme === 'dark') {
                document.documentElement.classList.add('dark');
            }
        })();
    </script>
</head>
<body>
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer" role="alert" aria-live="polite" aria-atomic="true"></div>

    <div class="sidebar-backdrop" id="sidebarBackdrop"></div>
    <div class="dashboard-layout">
        <%- include('partials/alumni-sidebar', { currentPage: 'mentorship', alumni: alumni }) %>

        <main class="main-content">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h1 class="h2 mb-0">Mentorship Hub</h1>
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#offerMentorshipModal">
                    <i class="bi bi-plus-circle me-2"></i>Offer Mentorship
                </button>
            </div>

            <!-- Mentorship Stats -->
            <div class="row g-4 mb-4">
                <div class="col-md-3">
                    <div class="content-card">
                        <h6 class="text-muted-foreground">Active Mentees</h6>
                        <h2 class="mb-0">5</h2>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="content-card">
                        <h6 class="text-muted-foreground">Pending Requests</h6>
                        <h2 class="mb-0 text-warning">3</h2>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="content-card">
                        <h6 class="text-muted-foreground">Completed Sessions</h6>
                        <h2 class="mb-0">42</h2>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="content-card">
                        <h6 class="text-muted-foreground">Avg Rating</h6>
                        <h2 class="mb-0">
                            4.8 <i class="bi bi-star-fill text-warning fs-5"></i>
                        </h2>
                    </div>
                </div>
            </div>

            <!-- Pending Requests -->
            <div class="content-card mb-4">
                <h5 class="mb-3">Pending Mentorship Requests</h5>
                <div class="row g-3">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex align-items-start">
                                    <img src="https://ui-avatars.com/api/?name=Ankit+Kumar&background=random" class="rounded-circle me-3" width="60" height="60">
                                    <div class="flex-grow-1">
                                        <h6 class="mb-1">Ankit Kumar</h6>
                                        <p class="text-muted-foreground small mb-2">CSE - Semester 7</p>
                                        <p class="small mb-2">
                                            <strong>Area of Interest:</strong> Software Development<br>
                                            <strong>Goal:</strong> Preparing for product-based companies
                                        </p>
                                        <p class="small mb-3">
                                            "Looking for guidance on system design and competitive programming. Would love to learn from your experience at Google."
                                        </p>
                                        <div class="d-flex gap-2">
                                            <button class="btn btn-sm btn-success" onclick="acceptMentee(1)">
                                                <i class="bi bi-check-circle"></i> Accept
                                            </button>
                                            <button class="btn btn-sm btn-outline-secondary" onclick="viewRequest(1)">
                                                <i class="bi bi-eye"></i> View Details
                                            </button>
                                            <button class="btn btn-sm btn-outline-danger" onclick="declineMentee(1)">
                                                <i class="bi bi-x-circle"></i> Decline
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- My Current Mentees -->
            <div class="content-card">
                <h5 class="mb-3">My Current Mentees</h5>
                <div class="row g-3">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <div class="text-center mb-3">
                                    <img src="https://ui-avatars.com/api/?name=Raj+Patel&background=random" class="rounded-circle" width="70" height="70">
                                    <h6 class="mt-2 mb-1">Raj Patel</h6>
                                    <p class="text-muted-foreground small mb-2">CSE - Semester 6</p>
                                    <span class="badge bg-primary">Web Development</span>
                                </div>
                                <div class="mb-3">
                                    <small class="text-muted-foreground">Progress</small>
                                    <div class="progress mt-1" style="height: 6px;">
                                        <div class="progress-bar bg-success" style="width: 70%"></div>
                                    </div>
                                    <small class="text-muted-foreground">70% Complete</small>
                                </div>
                                <div class="mb-3">
                                    <small class="text-muted-foreground">Next Session:</small>
                                    <p class="mb-0 small">Sep 30, 2025 at 4:00 PM</p>
                                </div>
                                <div class="d-flex gap-2">
                                    <button class="btn btn-sm btn-primary flex-grow-1" onclick="scheduleMeeting(1)">
                                        <i class="bi bi-calendar-check"></i> Schedule
                                    </button>
                                    <button class="btn btn-sm btn-outline-secondary" onclick="viewProgress(1)">
                                        <i class="bi bi-graph-up"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <div class="text-center mb-3">
                                    <img src="https://ui-avatars.com/api/?name=Sneha+Gupta&background=random" class="rounded-circle" width="70" height="70">
                                    <h6 class="mt-2 mb-1">Sneha Gupta</h6>
                                    <p class="text-muted-foreground small mb-2">CSE - Semester 8</p>
                                    <span class="badge bg-primary">Data Science</span>
                                </div>
                                <div class="mb-3">
                                    <small class="text-muted-foreground">Progress</small>
                                    <div class="progress mt-1" style="height: 6px;">
                                        <div class="progress-bar bg-success" style="width: 85%"></div>
                                    </div>
                                    <small class="text-muted-foreground">85% Complete</small>
                                </div>
                                <div class="mb-3">
                                    <small class="text-muted-foreground">Next Session:</small>
                                    <p class="mb-0 small">Oct 2, 2025 at 3:00 PM</p>
                                </div>
                                <div class="d-flex gap-2">
                                    <button class="btn btn-sm btn-primary flex-grow-1" onclick="scheduleMeeting(2)">
                                        <i class="bi bi-calendar-check"></i> Schedule
                                    </button>
                                    <button class="btn btn-sm btn-outline-secondary" onclick="viewProgress(2)">
                                        <i class="bi bi-graph-up"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Offer Mentorship Modal -->
    <div class="modal fade" id="offerMentorshipModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Offer Mentorship</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="mentorshipForm">
                        <div class="mb-3">
                            <label class="form-label">Expertise Area</label>
                            <select class="form-select" multiple size="3">
                                <option>Software Development</option>
                                <option>Data Science</option>
                                <option>Product Management</option>
                                <option>Entrepreneurship</option>
                                <option>Career Guidance</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Available Slots</label>
                            <input type="number" class="form-control" placeholder="Number of mentees you can guide" min="1" max="10" value="3">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Preferred Meeting Frequency</label>
                            <select class="form-select">
                                <option>Weekly</option>
                                <option>Bi-weekly</option>
                                <option>Monthly</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">About Your Mentorship</label>
                            <textarea class="form-control" rows="3" placeholder="Describe what you can help students with..."></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="submitMentorship()">Publish Offer</button>
                </div>
            </div>
        </div>
    </div>

    <%- include('partials/footer') %>
    <script>
        function acceptMentee(id) {
            AlumniumUtils.showToast('Mentorship request accepted!', 'success');
            setTimeout(() => location.reload(), 1000);
        }

        function declineMentee(id) {
            AlumniumUtils.showToast('Mentorship request declined', 'info');
            setTimeout(() => location.reload(), 1000);
        }

        function viewRequest(id) {
            AlumniumUtils.showToast('Loading request details...', 'info');
        }

        function scheduleMeeting(id) {
            AlumniumUtils.showToast('Opening calendar...', 'info');
        }

        function viewProgress(id) {
            AlumniumUtils.showToast('Loading mentee progress...', 'info');
        }

        function submitMentorship() {
            AlumniumUtils.showToast('Mentorship offer published successfully!', 'success');
            bootstrap.Modal.getInstance(document.getElementById('offerMentorshipModal')).hide();
        }
    </script>
</body>
</html>
